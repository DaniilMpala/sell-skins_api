# API Документация

- *apikey*: ****
- *domain*: cobaltskins.tech

в Header: {authorization: Bearer *apikey*} и  {content-type: application/json}

## Описание работы

При данной интеграции на вашем сайте должна быть кнопка, "Депозит" (любая) при нажатие на которую ваш сайт через ебкенд отправляет запрос НАМ с трейд ссылкой и мы возвращаем вам ссылку на депозит, на которую вы кидаете Юзера, после депозита мы отпраляем вам коллбек об успешной оплате и о том что мы приняли скины с нашей стороны

![Макет окна вашего редиректа на наш сайт](<img width="3088" height="1686" alt="image" src="https://github.com/user-attachments/assets/9dd4139c-7280-42e5-af84-d0134c477114" />
)
![Макет окна после нажатие кнопки депозита](https://github.com/user-attachments/assets/97a03941-31ee-4257-bbdc-e97176fc2e5f)


## Основные эндпоинты

### 1. Создание транзакции

**Эндпоинт:** `/api/transaction/pay`

**Метод:** POST

**Пример Body запроса:**
```json
{
  "typeTransaction": <Строкой передаем константу который мы вам выдали с апикееи>,
  "redirect": <Строкой передаем куда отправить юзера после оплаты успешной, то есть ваша(интеграции) ссылка куда мы>

  //Необходимо передать либо ссылку, либо стим айди юзера, для того чтобы мы проверили, трейд ссылка юзера совпадает ли с его аккаунтом реальным на сайте интеграции
  "tradeurl": "https://steamcommunity.com/tradeoffer/new/?partner=****&token=*****",
  "steamID": "7374637372",
}
```

**Тип Body запроса:**
```json
class CreateTransactionPayDto {
  typeTransaction: string;
  redirect: string;

  steamID?: string
  tradeurl?: string;
};
```

**Ответ:**
```json
{
  "redirect": "http://sell-skins.ru/pay?token=****"
}
```


